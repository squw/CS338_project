<!-- templates/category_selection.html -->
{% extends 'base.html' %}
{% block head %}
<title>Movie Titles by Category</title>
{% endblock %}
{% block body %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/header.css') }}">
<div class="content">
  <div class="header">
    <a href="{{ url_for('index') }}">
      <img src="{{ url_for('static', filename='icons/homepage_icon.png') }}" alt="Home" class="home-button">
    </a>
    <h1>Movie Titles by Category</h1>
  </div>
  
  <form action="{{ url_for('search_by_category') }}" method="post">
    <label for="category">Select Category:</label>
    <select id="category" name="category" required>
      <option value="Christmas" {% if selected_category == 'Christmas' %}selected{% endif %}>Christmas</option>
      <option value="Halloween" {% if selected_category == 'Halloween' %}selected{% endif %}>Halloween</option>
      <option value="Family-Friendly" {% if selected_category == 'Family-Friendly' %}selected{% endif %}>Family-Friendly</option>
      <option value="Classic Films" {% if selected_category == 'Classic Films' %}selected{% endif %}>Classic Films</option>
      <option value="Recent Decade Blockbusters" {% if selected_category == 'Recent Decade Blockbusters' %}selected{% endif %}>Recent Decade Blockbusters</option>
      <option value="Valentines Day Titles" {% if selected_category == 'Valentines Day Titles' %}selected{% endif %}>Valentines Day Titles</option>
      <option value="War Titles" {% if selected_category == 'War Titles' %}selected{% endif %}>War Titles</option>
      <option value="Science Fiction Titles" {% if selected_category == 'Science Fiction Titles' %}selected{% endif %}>Science Fiction Titles</option>
      <option value="Historical Dramas" {% if selected_category == 'Historical Dramas' %}selected{% endif %}>Historical Dramas</option>
      <option value="Adventure Titles" {% if selected_category == 'Adventure Titles' %}selected{% endif %}>Adventure Titles</option>
    </select>
    <button type="submit">Show</button>
  </form>

  {% if results %}
  <h2>Results for "{{ selected_category }}"</h2>
  <table>
    <tr>
      <th>Title</th>
      <th>Year</th>
      <th>Genres</th>
    </tr>
    {% for result in results %}
    <tr>
      <td>{{ result.title }}</td>
      <td>{{ result.startYear }}</td>
      <td>{{ result.genres }}</td>
    </tr>
    {% endfor %}
  </table>
  {% endif %}
</div>
{% endblock %}
